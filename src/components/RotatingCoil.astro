---
// Rotating Coil SVG animation component
interface Props {
  className?: string;
}

const { className = "" } = Astro.props;
---

<div class={`rotating-coil ${className}`}>
  <svg viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg" class="coil-animate opacity-20" aria-hidden="true">
    <g stroke="currentColor" fill="none" stroke-linecap="round">
      <circle r="322" cx="400" cy="400" stroke-width="1" stroke-dasharray="2023 2023" transform="rotate(360, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="294" cx="400" cy="400" stroke-width="1" stroke-dasharray="1679 1847" transform="rotate(327, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="266" cx="400" cy="400" stroke-width="1" stroke-dasharray="1367 1671" transform="rotate(295, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="238" cx="400" cy="400" stroke-width="1" stroke-dasharray="1088 1495" transform="rotate(262, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="210" cx="400" cy="400" stroke-width="1" stroke-dasharray="840 1319" transform="rotate(229, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="182" cx="400" cy="400" stroke-width="1" stroke-dasharray="624 1144" transform="rotate(196, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="154" cx="400" cy="400" stroke-width="1" stroke-dasharray="440 968" transform="rotate(164, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="126" cx="400" cy="400" stroke-width="1" stroke-dasharray="288 792" transform="rotate(131, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="98" cx="400" cy="400" stroke-width="1" stroke-dasharray="168 616" transform="rotate(98, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="70" cx="400" cy="400" stroke-width="1" stroke-dasharray="80 440" transform="rotate(65, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="42" cx="400" cy="400" stroke-width="1" stroke-dasharray="24 264" transform="rotate(33, 400, 400)" stroke-dashoffset="4"></circle>
      <circle r="14" cx="400" cy="400" stroke-width="1" stroke-dasharray="12 88" stroke-dashoffset="4"></circle>
    </g>
  </svg>
</div>

<style>
  .rotating-coil {
    /* Coil-specific styles can go here if needed */
  }

  /* Coil Spin Animation */
  @keyframes coil-spin {
    from {
      transform: rotate(360deg);
    }
    to {
      transform: rotate(0deg);
    }
  }

  .coil-animate {
    --cooldown: 30s;
    animation: coil-spin 5s linear infinite 5s;
  }

  /* Individual Circle Pulse Animations */
  .coil-animate circle:nth-child(1) {
    animation: coil-pulse-1 calc(var(--cooldown)/2) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(2) {
    animation: coil-pulse-2 calc(var(--cooldown)/5) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(3) {
    animation: coil-pulse-3 calc(var(--cooldown)/4) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(4) {
    animation: coil-pulse-4 calc(var(--cooldown)/5) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(5) {
    animation: coil-pulse-5 calc(var(--cooldown)/6) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(6) {
    animation: coil-pulse-6 calc(var(--cooldown)/7) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(7) {
    animation: coil-pulse-7 calc(var(--cooldown)/8) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(8) {
    animation: coil-pulse-8 calc(var(--cooldown)/9) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(9) {
    animation: coil-pulse-9 calc(var(--cooldown)/10) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(10) {
    animation: coil-pulse-10 calc(var(--cooldown)/11) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(11) {
    animation: coil-pulse-11 calc(var(--cooldown)/12) ease-in-out infinite;
  }

  .coil-animate circle:nth-child(12) {
    animation: coil-pulse-12 calc(var(--cooldown)/13) ease-in-out infinite;
  }

  /* Keyframes for each circle's pulse animation */
  @keyframes coil-pulse-1 {
    0%, 100% { stroke-dasharray: 2023 2023; }
    50% { stroke-dasharray: 1000 2023; }
  }

  @keyframes coil-pulse-2 {
    0%, 100% { stroke-dasharray: 1679 1847; }
    50% { stroke-dasharray: 840 1847; }
  }

  @keyframes coil-pulse-3 {
    0%, 100% { stroke-dasharray: 1367 1671; }
    50% { stroke-dasharray: 680 1671; }
  }

  @keyframes coil-pulse-4 {
    0%, 100% { stroke-dasharray: 1088 1495; }
    50% { stroke-dasharray: 544 1495; }
  }

  @keyframes coil-pulse-5 {
    0%, 100% { stroke-dasharray: 840 1319; }
    50% { stroke-dasharray: 420 1319; }
  }

  @keyframes coil-pulse-6 {
    0%, 100% { stroke-dasharray: 624 1144; }
    50% { stroke-dasharray: 312 1144; }
  }

  @keyframes coil-pulse-7 {
    0%, 100% { stroke-dasharray: 440 968; }
    50% { stroke-dasharray: 220 968; }
  }

  @keyframes coil-pulse-8 {
    0%, 100% { stroke-dasharray: 288 792; }
    50% { stroke-dasharray: 144 792; }
  }

  @keyframes coil-pulse-9 {
    0%, 100% { stroke-dasharray: 168 616; }
    50% { stroke-dasharray: 84 616; }
  }

  @keyframes coil-pulse-10 {
    0%, 100% { stroke-dasharray: 80 440; }
    50% { stroke-dasharray: 40 440; }
  }

  @keyframes coil-pulse-11 {
    0%, 100% { stroke-dasharray: 24 264; }
    50% { stroke-dasharray: 12 264; }
  }

  @keyframes coil-pulse-12 {
    0%, 100% { stroke-dasharray: 12 88; }
    50% { stroke-dasharray: 6 88; }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .coil-animate,
    .coil-animate circle {
      animation: none;
    }
  }
</style>
